(this["webpackJsonpreact-1"]=this["webpackJsonpreact-1"]||[]).push([[0],{102:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var s=n(2),r=n(1),a=n(3),i=n(4),o=n(6),c=n(7),u=n(0),l=n.n(u),p=n(9),d=n(13),j=function(e){return{auth:e.auth.isAuth}},h=function(e){var t=function(t){Object(o.a)(u,t);var n=Object(c.a)(u);function u(){return Object(a.a)(this,u),n.apply(this,arguments)}return Object(i.a)(u,[{key:"render",value:function(){return this.props.auth?Object(r.jsx)(e,Object(s.a)({},this.props)):Object(r.jsx)(p.a,{to:"/login"})}}]),u}(l.a.Component);return Object(d.b)(j)(t)}},103:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(12),r=n(2),a="ADD-MESSAGE",i=function(e){return{type:a,postMessage:e}},o={dialogs:[{name:"Valera",id:"1"},{name:"Jim",id:"2"},{name:"Petr",id:"3"}],messages:[{message:"Hi"},{message:"How are u ?"},{message:"I am good, thx"}]};t.b=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case a:e=Object(r.a)({},t);var i={message:n.postMessage};return e.messages=Object(s.a)(t.messages),e.messages.push(i),e;default:return t}}},108:function(e,t,n){e.exports={item:"Post_item__3v6tE"}},114:function(e,t,n){e.exports={header:"Header_header__15lKs"}},118:function(e,t,n){},23:function(e,t,n){e.exports={nav:"Navbar_nav__22Yp6",item:"Navbar_item__3IHH3",active:"Navbar_active__1_Pbw"}},248:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n(0),a=n.n(r),i=(n(118),function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,250)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),r(e),a(e),i(e)}))}),o=n(49),c=n.n(o),u=n(3),l=n(4),p=n(6),d=n(7),j=n(65),h=n.n(j),b=n(23),f=n.n(b),g=n(14),O=function(){return Object(s.jsxs)("nav",{className:f.a.nav,children:[Object(s.jsx)("div",{className:f.a.item,children:Object(s.jsx)(g.b,{to:"/profile/",activeClassName:f.a.active,children:"Profile"})}),Object(s.jsx)("div",{className:f.a.item,children:Object(s.jsx)(g.b,{to:"/dialogs",activeClassName:f.a.active,children:"Messages"})}),Object(s.jsx)("div",{className:f.a.item,children:Object(s.jsx)(g.b,{to:"/news",activeClassName:f.a.active,children:"News"})}),Object(s.jsx)("div",{className:f.a.item,children:Object(s.jsx)(g.b,{to:"/something",activeClassName:f.a.active,children:"Something"})}),Object(s.jsx)("div",{className:f.a.item,children:Object(s.jsx)(g.b,{to:"/users",activeClassName:f.a.active,children:"Users"})})]})},m=n(9),v=n(13),x=n(10),C=n.n(x),w=n(20),E=n(12),I=n(2),S=n(106).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"82aca8cf-3aaf-42f1-9d35-3abc6d82797c"}}),F={getUsers:function(e,t){return S.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return S.post("follow/".concat(e))},unfollow:function(e){return S.delete("follow/".concat(e))},getProfileInfo:function(e){return console.warn("This method is deprecated, use Profile API getProfileInfo"),P.getProfileInfo(e)}},P={getProfileInfo:function(e){return S.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return S.get("profile/status/".concat(e))},updateStatus:function(e){return S.put("profile/status",{status:e}).then((function(e){return e.data}))}},A=function(){return S.get("auth/me").then((function(e){return e.data}))},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return S.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},k=function(){return S.delete("auth/login").then((function(e){return e.data}))},y="users/FOLLOW",M="users/UNFOLLOW",T="users/SET_USERS",U="users/SET_TOTAL_USERS_COUNT",Q="users/SET_CURRENT_PAGE",G="users/TOGGLE_FETCHING",R="users/TOGGLE_FOLLOWING",z={users:[],totalUsersCount:0,pageSize:5,currentPage:1,isFetching:!1,isFollowingIds:[]},J=function(e){return{type:y,userId:e}},K=function(e){return{type:M,userId:e}},Y=function(e){return{type:G,isFetching:e}},B=function(e,t){return{type:R,addUserId:e,userId:t}},D=function(){var e=Object(w.a)(C.a.mark((function e(t,n,s,r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(B(!0,n)),e.next=3,s(n);case 3:0===e.sent.data.resultCode&&t(r(n)),t(B(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,s,r){return e.apply(this,arguments)}}(),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(I.a)(Object(I.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(I.a)(Object(I.a)({},e),{},{followed:!0}):e}))});case M:return Object(I.a)(Object(I.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(I.a)(Object(I.a)({},e),{},{followed:!1}):e}))});case T:return Object(I.a)(Object(I.a)({},e),{},{users:Object(E.a)(t.users)});case U:return Object(I.a)(Object(I.a)({},e),{},{totalUsersCount:t.totalUsersCount});case Q:return Object(I.a)(Object(I.a)({},e),{},{currentPage:t.pageNumber});case G:return Object(I.a)(Object(I.a)({},e),{},{isFetching:t.isFetching});case R:return Object(I.a)(Object(I.a)({},e),{},{isFollowingIds:t.addUserId?[].concat(Object(E.a)(e.isFollowingIds),[t.userId]):e.isFollowingIds.filter((function(e){return e!==t.userId}))});default:return e}},W=n(69),V=n.n(W),_=function(e){return Object(s.jsx)("div",{className:V.a.preloader,children:Object(s.jsx)("div",{className:V.a.spinner})})},H=n(55),X=n.n(H),q=n(107),Z=n.n(q),$=function(e){var t=e.totalUsersCount,n=e.pageSize,r=e.currentPage,a=e.setCurrentPage,i=Math.ceil(t/n);return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(Z.a,{pageRangeDisplayed:2,disableInitialCallback:!0,pageCount:i,marginPagesDisplayed:1,initialPage:r-1||0,onPageChange:function(e){var t=e.selected+1;a(t)},previousLabel:"\u043d\u0430\u0437\u0430\u0434",nextLabel:"\u0432\u043f\u0435\u0440\u0435\u0434",breakLabel:"...",disabledClassName:X.a.disabled,breakClassName:"break-me",containerClassName:X.a.pagination,subContainerClassName:"pages pagination",activeClassName:X.a.active})})},ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAABsFBMVEVx4u////84xtknO3oSEUn/7bUoKCboz4lJSUipv77Z7ez80Ijdq2K3zsyOpaI4aJXt1ZMwMC4rRYBP0OFl4O4QAEMlNXcvY5McM3g3wNavx8iGnZ8XHFTks2qS3tp2wb3/z4HjqVrp+vwAAEKG5vHS9fkawtac6vPw1o217/Z06/hHPjv/7bLuz4UAADbI8/in7PQnHxsAIm8AADxSb3IiCwBGOjcnFxD/9rtBQkS81NrR5uTK7vQAAETl+fxu2eVKg4lgp68gAABdmqFlucM0oK8vcnuroYHk1aQOFB0bHSE5Ny/Dr3bg6sRfyM4iKnKDmZtbbpSds7x0iKq6xdVMV1cxPT03TlBQkJdUen40SEkzj5syfIZPY2Xv36u9sYxZV1GGgGu0qYYxNDx/eWdqZlqZjGVhWUKIe1dOSTt1akwuVlvXwIESAACSz7/Y0JXHz6Cx59jN6cy2zamlzLKMxMrp4MDBuqDTs4Dr377Cup5esspIjK9qlKQiaoowj6m8w7YbLl1Tn7yPorhea4EfUXY/R2hEV4kaPmd1hJOClK9WYXkvNlxqcIqltcng4+n5QQx4AAAPSElEQVR4nM3dC1cURxYA4J4ZZBAFERrEV6LDPJxG3ohODDMSSQRjRIQYSXY1iVnz3LyT3Y1GFslCxAh/eat7eh7dXY97q27D3HNyTiA5Ot+5VbduVXdPW4n4I1POjRXHC1kWlhvuvxTGi2O5cmYf/nYrzj88Ux4bz1q2F1Y4/F9nx8fihcYlzOSKWS4sGu7/li3m4mLGIcyMFSwYLsC0CmNxKMmFufEsEtfMzI7nqD8QrTBX0NY1clmgRRIKzXl1JSWSSpgpWjQ8H2kVqeYkjXBMf+4JjXZ2jOSzEQgzRXJeDUmRSGNhhmr28Y0FY6OhkPli4/lIU6ORMH4fgdFAuD8+Y6O+cHy/fJ5xfN+FY6TLH4Bo6a4desJydn99njFb3j/hvg7QJqPWUNUQ5vZ5gDYRLY1+FS/ctwrKNeLTiBWWDyyBPtHCzkaksHiwPs9YjFN4ACU0GnY2NmHuoG31wBQchLAFRmgtMCMVLmyJEVoLu0AvbCkgZjICheWDFnECuGzAhLnWSmA1bFi9AQnHWhHIiKDtBkTYokAgESBsoVUiHJBVQy1sYSCIqBS2NBBCVAlbHAggKoSERcZpCrI/1FKXG7mQDOhU5u9Pvz88MzMzcW96bW7eIlQqiFJhmQjozE0PDw93eHG8fWLi8qWJD+7fJkPa0u5GJszQAJ35Dl9XFVZj4lL7tdtERlt2YCwT0vz11rWZjo6o0EN+MEeUSD1hluTvdqaHOwRCFpfuzZEQJTsNsZDmTM1ZCwJDQmb8cJ7AKNkvCoU0C6EzN9MhF7a3vzVdMTeKl0WRkGi/VAllkCdsn3hrzdwo3EuJhBQ8lsL7ECEzXr5mbsQJCaqM17tEgHyhm8dp07VDUG34QtNJ6Fi3567fX1sLlxmx0F07PpyzTJCCqcgVmvUyjjW/NjwzPFxvY2BCFpcvGzUB/N6GKzTxWdb1jnD9hArdRH5tkkio0GQlDLZoaKFbdCbW5jU7He6qyBGaLBTONVn+IEIvkffuV7SQvCWDI9T3Wda0PIEwoTsj3/pwTmv9gAgNLmGHe1B9oYt0+3LsJ+BcQY0IDeqoc00NhAvdKdmH/gzRehoRavssa141B5HC9stv44lRUOhnk3MLgA8p/CiJJkbONMJCfZ9zHTBGccKJd5J4YkQU/NHkThkQECf8Ooknhpu3oNDkZGaOXtg+kdQhZiTCgj7Q+TsIiBNeSuoQC2KhSQorkEKKFV5+W4cYTGJAaJBCax42SLWEWGJBJDRJIWi1xws/SuoQA8t+s9Akhc77MCCy0vwtqUUs8IVmR9zAaYgUvpPUIjbPxCahSQphHZuJEEcs8IRmKYQ1NCZCFLEpiQ2h0elT5Gg7BiGG2NTYNIRmp0/A9d5IiCJGhYYXQ6FAIyGC2Nhi1IVmZ8DQjkZ7tUATs2Gh4dXQuIQfJXWJ9VpTE44bAeGLhV7XpkMcDwnNgKGutFQqPSrFJIQTg0LTi2nNm8NSx42FBwsPP+YbNXZPesTa2alF0M8EhY9uHLpy6BD755NH5vOQJ4QSCwGh6fXQhvDRQ9fnxpVPeUMVfYqhTbSbhcZXfOvC0kINyIgLnJGKPYnSJ/rD1CIZpHVhI4PVuBFJI+68VCCEEQtNQuOL9r7w0Y0g8NCVB5+EjCjhSZEQRLQbQvPbEqqrRemzENAbqp8FjBjhvT6hEEKsDlOLYLmvCzsivqrxk1JJRxjp2bDE8brQ/L4Er6cJT8Kmsfrpx7VEIoSXhNMQSMzWhAR36Ll9KW+M1o1XFm4wZAklvCcFAoheb2qZb5y8cGfhAyHQQx5auPGPUunmTTmr8Z/lgxRC9LZQFsVa4R21lcJ1lJfJQwuPPz++uHgz6mS/WlxcbP/88/ZF/79dEldSKLHgC82BlrNWKql81ei5kE7fevzFV1++e7zdNblx8913v/zqi8e3bqXTFy6kb33lGSe+llRSKLEqpLhR1rl+XJ3CqjCddh1upL/xo/azHxe++XJRWWdARHciWkQ36c3PwFJYFariwuNFUU+KIrorokV0n6X9GJZCmDB94dY/1bNQTXSP3Cyae4HtH4ApBArZSP0WKJQSs56QIoXvXSQWptMj3xEQbVdIUGhsOBAuTI98nzcmslJjURSa1+BAhDA98rpxFlmpsQgKjf0eHIgRpsFJFBJZqbEoOhpEClHCEShQTCwwoXkpxQxSnPC2MTHLhMZA+4fYhOAVQ0xkQvNpGJ/wZ4SQT7QTlvliYf/YGkIu0c5Y5otFi4xSPtHOWQTb3/iE4AVRSLTHLIK+uyVqqYBoF62iMdCyEUCUMI0FcohFy/wksRV6GjFx3CJoaVClBtOXIgsNl1iwSJ4UjSeHiKZNTMySCDErImL39JPGII0QaYSY3hsh1POFiERCxEyE7/G1ZmGESJNBzC4fKoTv8FVZ3G8iUAg/pdk/oldt1EyYcOQnM2A8xNfYwv+jcvFXCr//qSf9/esmQzQ2YvVFFaosqoQjt/MsjH1NRKpaU1OqlkaF0KzAcIhU62FTGAoBF5xQRHqhammUC0d+pkthlRhDDhV7Kbmwh9LnEbMUe4tQyDfEUiF6U68mFij2h6GQL/4yIWWZqUWBYo8fCe0ckvs8If0XstmycSoR0o9RTxjH1z7KFkWxUHs/KIt8keC8lEcUT0Wx8LsYgMn8mwRn3tzQyGEMPibMEVy34IawPxUJ8WejMGGG4NoTN4TVRiCMpcq4QXL9kE8UdG984ci3cUxCFn0014AxRK4wNmCyQnIdH0XkCeMDJsdp7sXAEDnCGIH5N2nup8EQo8IYgcl8meqeKEG8di5CjArPx1VGXSHZfW1C4ZEehXDkaJzCPrp7E4XCI0cuyoRnj8YqzNLdXyoRBtPYE/LFKswXye4RlgoDxp6QL15hmew+b4WwaazWhCO+L95RSnevvlroZvLixYuecKTBi1dYIXzeAiL0otkWt9CdhlTPzLSosEz33FNrCpOEz661prD+ZFd8K+LBClnbTfcMaWsKKZ8DbklhhfJZbn7YByrMFymfx+dH8c0H58LGsPD80YeHf4lHSPqdCtzodOPXI+ckwvNn/3XYjTiEFdLvxeCEXeysxq895wTC8//+7+FqxJDFaiUl+24TTmQ763H1QSORZ5uHZyPoz4PziaCQftHvDMR/asbalunsb4cDQS7MhoTUvak91hkKf7CeDQ7PelCP03w5JCTsTR3LtrLFMNAbrKyyusKHEZ9LpB2ofYmwkGQL5ThW5cnTXzi6+mA9f/Q3Dq8ap35/tn4ySXK/Sb4YERouie6rHk4+f7qdWloa7BULOzt56atHW3//VP/Gs/W3k6bOfCIq1D9yc5zKk+fHtpeWlgYGUiyWNsXANwZPi1P4x1CbG4w5tfG/9XXok8C8KHCEerXGcfqeH3MT59n8GLwqBJ7oFRPvVoFtPrO/v+3PddAj65wU8r43UaevcSpPe4O4qnBFCDzWmxq8K0jh1mxbKFg2zzw7qTFgKwmeUCOJT5cGwzovJt8QAZlQRLwzFQZWlVPP0MM1X+YKsUl0nqT4vlRqYFsEdIUC4hku0MvkOjKNTSkMCJEvDXi6JPC5xWZXAPSEPGKtzHBj6hkuhTmBEJfEExIgy6IAWBXyiBIgS+OfuinU/z7v7Uh9kRcbH+gLU+GKyikzQeIGIoVloRCRxBNyIBunwWJz9W5I+CIoPC1NIS6LgRRqfq++I5uD/jANFJurXV2/B0bpcnd3IIUbKmFb/zNguQmmMPxuBGBj80QJZCvGbgDY1bXSEA5sd3cHiC+UQFZu1mHC0Lu79N5v0asGplK9QWBXV1MOu7uDRPkk9OMMTBgWhX6GbDGc56J1MBCDO0Fg1+H6eninO0A89RIk7IckMR9+N5nWe2ZAQDZOrwaAXV2b1Z5m4I/u7gDxLr+biRI1Uqj1rqDngFnoxsByENh1yu/aTncHiKf+AsxCYBLzkXdaabzvyVEshU1JXA0AeUKX+AKYQsiKEX1FoMY7uyrAFKbcYtMM5AoZEehjMaXswTmc6K9UZ6dPgNMw5e6Fu5TC7j9AZQY0TGtnpAqh4t15zlPoIGUxeEopvAOchJ5Q0YFXOBr8+w8dZcPWFAPLSuEWRvinvK/hYni/lNZTB+5zx+ldhRDSzTTijEzIG6Na7yFFpNDtzxRC4b6XHxJhnv/WY413yaKEgWLDESLKjBv9kmLax6dovA8YJ0wNnJIIT+OAUqHgBesa73RGCgdXJMKtfiohfxJKhJKpiBSmJu8KhZiVQi7MR19eqRKKV0WssFFsIsINJFAs5K2EKqGw2mCFjWITFsqO13BCQZVRCEXVBi1MpQRCZJmRCAVVRiUULPx4Ya3YhISwfS9AmOe+rhogFBRUjRwuHeYI0WVGJBSWUbWQf6ahIfTb06AQuu9VCSPnFhghl6gh9NvTgBDXkIqF4nUCJOQtizrCVG9EqOHjCVVApZBD1BIO7oSEGmWGJ1QC1cIoUUvo7YWbhHe0gBGhGggQRoh6QrfYNAkx+16xEACECMPlRk/oFpuGUKvMRISKKgoXhoiaQtaeNoTohpQnBAFhwmB3oylMDW52+ULsvpcvjB7+GggTGQIh2wv7Qs0yExLKWjW8kO00bHPhsn9lRqebCQsluwlNYYOoLUwNVHOY0gbWhXnxflBfWF819IWpXk+IPF7jCCGrhIYwkTMWpraZcEAfWBNKNxMGQn+kmghTTGgA9IT5Psl+11TojVQj4XavwRj1hIKDXyphomzZRsKUUQpdIWaE6ggTicKkEdAohW2j8BqqL0ysDsIvINIKh4ZW8R9XQ5hIrEzqj1R94dDoK50PqyVM7G3Dr3RTCac2NBKoLUwkdnWHqqZwaGhT85PqChOJnUkto5ZwVm+AGgoTe8s601FDODv6ck//YxoI9Yxo4ezoloHPUMiMx7BGpNDUZyz08oiajyjhkNH4JBIy487kEjyRcOHQ1OgrYx+JkMXuNjiRUOHQ6MYuyWejEbJErgzCEgkSzk5NUaTPCyohi9VlyGhVC2enRl/qtS/cIBSy2GVIxXBVCNnk26IZnbWgFSYSmdWVlDSVEiFL3uyrVarRWQtqoRt7u8tMGX2kTSKcZblre7lJrXMjDqEbe6s725OMGXGGhUMubnTrxW4cOjfiEnqxt7q5st27NLnEpIPV50t9Yf/s0NDQFKO1/fVyk3xgBiJWoR97q6ubOzsryye2e3uZ8MyZjY2tV69ebK7GS/Pj/x7xgowKcJO9AAAAAElFTkSuQmCC",te=function(e){var t=e.user,n=e.isFollowing,r=e.follow,a=e.unfollow;return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:Object(s.jsx)(g.b,{to:"/profile/"+t.id,children:Object(s.jsx)("img",{src:ee,alt:"avatar"})})}),Object(s.jsx)("div",{children:t.name}),Object(s.jsx)("div",{children:t.message}),Object(s.jsx)("div",{children:"\u0413\u043e\u0440\u043e\u0434"}),Object(s.jsx)("div",{children:"\u0421\u0442\u0440\u0430\u043d\u0430"}),Object(s.jsx)("div",{children:t.followed?Object(s.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}):Object(s.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})})]})},ne=function(e){return e.isFetching?Object(s.jsx)(_,{}):Object(s.jsx)(s.Fragment,{children:!e.isFetching&&Object(s.jsxs)("div",{children:[Object(s.jsx)($,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,setCurrentPage:e.setCurrentPage}),e.users.map((function(t){return Object(s.jsx)(te,{user:t,follow:e.follow,unfollow:e.unfollow,isFollowing:e.isFollowing},t.id)}))]})})},se=(n(149),function(e){return e.usersPage.users}),re=function(e){return e.usersPage.totalUsersCount},ae=function(e){return e.usersPage.pageSize},ie=function(e){return e.usersPage.currentPage},oe=function(e){return e.usersPage.isFetching},ce=function(e){return e.usersPage.isFollowingIds},ue=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).setCurrentPage=function(e){s.props.getUsers(e,s.props.pageSize)},s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(s.jsx)(ne,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,setCurrentPage:this.setCurrentPage,currentPage:this.props.currentPage,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,isFetching:this.props.isFetching,isFollowing:this.props.isFollowing,toggleFollow:this.props.toggleFollow})}}]),n}(a.a.Component),le=Object(v.b)((function(e){return{users:se(e),totalUsersCount:re(e),pageSize:ae(e),currentPage:ie(e),isFetching:oe(e),isFollowing:ce(e)}}),{follow:function(e){return function(){var t=Object(w.a)(C.a.mark((function t(n){var s,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=F.follow.bind(F),r=J,t.next=4,D(n,e,s,r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(w.a)(C.a.mark((function t(n){var s,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=F.unfollow.bind(F),r=K,t.next=4,D(n,e,s,r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},toggleFollow:B,getUsers:function(e,t){return function(){var n=Object(w.a)(C.a.mark((function n(s){var r;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(Y(!0)),n.next=3,F.getUsers(e,t);case 3:r=n.sent,s({type:Q,pageNumber:e}),s(Y(!1)),s((i=r.items,{type:T,users:i})),s((a=r.totalCount,{type:U,totalUsersCount:a}));case 8:case"end":return n.stop()}var a,i}),n)})));return function(e){return n.apply(this,arguments)}}()}})(ue),pe=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,status:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deActivateEditMode=function(){e.setState({editMode:!1}),e.props.updateUserStatus(e.state.status)},e.onChangeStatus=function(t){e.setState({status:t.currentTarget.value})},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[!this.state.editMode&&Object(s.jsx)("div",{children:Object(s.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"\u041d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d"})}),this.state.editMode&&Object(s.jsx)("div",{children:Object(s.jsx)("input",{autoFocus:!0,onChange:this.onChangeStatus,type:"text",value:this.state.status,onBlur:this.deActivateEditMode})})]})}}]),n}(a.a.Component),de=function(e){return e.profile?Object(s.jsxs)("div",{className:"content",children:[Object(s.jsx)("div",{className:"content-img",children:Object(s.jsx)("img",{src:e.profile.photos.large||ee,alt:"avatar"})}),Object(s.jsxs)("div",{children:["\u041e\u0431\u043e \u043c\u043d\u0435: ",e.profile.aboutMe||"\u0423\u0432\u044b, \u043f\u043e\u043a\u0430 \u0437\u0434\u0435\u0441\u044c \u043f\u0443\u0441\u0442\u043e"]}),Object(s.jsxs)("div",{children:["\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f: ",e.profile.fullName]}),Object(s.jsxs)("div",{children:["\u0421\u0442\u0430\u0442\u0443\u0441: ",Object(s.jsx)(pe,{updateUserStatus:e.updateUserStatus,status:e.status})," "]})]}):Object(s.jsx)(_,{})},je="profile/ADD-POST",he="profile/SET_USER_PROFILE",be="profile/SET_USER_STATUS",fe="profile/DELETE_POST",ge={posts:[{postId:1,src:"https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg",message:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 1"},{postId:2,src:"https://klike.net/uploads/posts/2019-03/1551511801_1.jpg",message:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 2"}],profile:null,status:""},Oe=function(e){return{type:be,status:e}},me=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case je:e=Object(I.a)({},t);var s={src:"https://klike.net/uploads/posts/2019-03/1551511801_1.jpg",message:n.postMessage};return e.posts=Object(E.a)(t.posts),e.posts.push(s),e.newPostText="",e;case he:return Object(I.a)(Object(I.a)({},t),{},{profile:n.profile});case be:return Object(I.a)(Object(I.a)({},t),{},{status:n.status});case fe:return Object(I.a)(Object(I.a)({},t),{},{posts:t.posts.filter((function(e){return e.postId!=n.postId}))});default:return t}},ve=n(108),xe=n.n(ve),Ce=function(e){return Object(s.jsxs)("div",{className:xe.a.item,children:[Object(s.jsx)("img",{src:e.src,alt:"avatar"}),e.message]})},we=n(70),Ee=n.n(we),Ie=n(21),Se=n(33),Fe=Se.a().shape({postMessage:Se.b().required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c")}),Pe=function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(Ie.d,{initialValues:{postMessage:""},validationSchema:Fe,onSubmit:function(t,n){var s=n.resetForm;e.onAddPost(t.postMessage),s()},children:function(e){var t=e.isSubmitting,n=e.errors,r=e.touched;return Object(s.jsxs)(Ie.c,{children:[Object(s.jsx)(Ie.b,{type:"text",className:n.postMessage&&r.postMessage?Ee.a.inputError:"",name:"postMessage",as:"textarea"}),Object(s.jsx)(Ie.a,{name:"postMessage",component:"div"}),Object(s.jsx)("button",{type:"submit",disabled:t,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442"})]})}})})},Ae=function(e){console.log("render");var t=e.posts.map((function(e,t){return Object(s.jsx)(Ce,{src:e.src,message:e.message},t)}));return Object(s.jsxs)("div",{className:Ee.a.posts,children:[Object(s.jsx)("span",{children:"\u041f\u043e\u0441\u0442\u044b"}),Object(s.jsx)("div",{children:Object(s.jsx)(Pe,{onAddPost:function(t){e.addPost(t)}})}),t]})},Ne=Object(v.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){return e(function(e){return{type:je,postMessage:e}}(t))}}}))(Ae),ke=function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)(de,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus}),Object(s.jsx)(Ne,{})]})},ye=n(102),Me=n(26),Te=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId||this.props.authorizedUserId;this.props.setUserInfo(e),this.props.getUserStatus(e),e||this.props.history.push("/login")}},{key:"render",value:function(){return Object(s.jsx)(ke,Object(I.a)({},this.props))}}]),n}(a.a.Component),Ue=Object(Me.d)(Object(v.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId}}),{setUserInfo:function(e){return function(){var t=Object(w.a)(C.a.mark((function t(n){var s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.getProfileInfo(e);case 2:s=t.sent,n({type:he,profile:s});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object(w.a)(C.a.mark((function t(n){var s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.getStatus(e);case 2:s=t.sent,n(Oe(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object(w.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.updateStatus(e);case 2:0===t.sent.resultCode&&n(Oe(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),ye.a,m.f)(Te),Qe=n(114),Ge=n.n(Qe),Re=function(e){return Object(s.jsxs)("header",{className:Ge.a.header,children:[Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Instagram_logo_2016.svg/768px-Instagram_logo_2016.svg.png",alt:"logo"})}),Object(s.jsx)("div",{children:e.isAuth?Object(s.jsxs)("div",{children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",e.login," ",Object(s.jsx)("button",{onClick:e.logout,children:"logout"})]}):Object(s.jsx)("div",{children:Object(s.jsx)(g.b,{to:"/login",children:"Login"})})})]})},ze="auth/SET_DATA_USER",Je="auth/SET_ERROR_FORM",Ke={userId:null,login:null,email:null,isAuth:!1,errorFormMessage:null},Ye=function(e,t,n,s){return{type:ze,payload:{userId:e,login:t,email:n,isAuth:s}}},Be=function(){return function(){var e=Object(w.a)(C.a.mark((function e(t){var n,s,r,a,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:0===(n=e.sent).resultCode&&(s=n.data,r=s.id,a=s.login,i=s.email,t(Ye(r,a,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze:return Object(I.a)(Object(I.a)({},e),t.payload);case Je:return Object(I.a)(Object(I.a)({},e),{},{errorFormMessage:t.msg});default:return e}},Le=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)(Re,Object(I.a)({},this.props))}}]),n}(a.a.Component),We=Object(v.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{logout:function(){return function(){var e=Object(w.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:0===e.sent.resultCode&&t(Ye(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Le),Ve=n(56),_e=n.n(Ve),He=Se.a().shape({email:Se.b().email("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 mail").required("\u041f\u043e\u043b\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),password:Se.b().required("\u041f\u043e\u043b\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e")}),Xe=function(e){return Object(s.jsx)("div",{children:Object(s.jsx)(Ie.d,{initialValues:{email:"",password:"",rememberMe:!1},validationSchema:He,onSubmit:function(t,n){var s=n.setSubmitting;n.isSubmitting;e.loginMe(t.email,t.password,t.rememberMe),setTimeout((function(){s(!1)}),3e3)},children:function(t){var n=t.isSubmitting,r=t.handleSubmit,a=t.errors,i=t.touched,o=t.isValid;return Object(s.jsxs)(Ie.c,{onSubmit:r,children:[Object(s.jsx)(Ie.b,{type:"email",name:"email",className:a.email&&i.email?_e.a.inputError:""}),Object(s.jsx)(Ie.a,{name:"email",component:"div"}),Object(s.jsx)(Ie.b,{type:"password",name:"password",className:a.password&&i.password?_e.a.inputError:""}),Object(s.jsx)(Ie.a,{name:"password",component:"div"}),Object(s.jsxs)("label",{children:[Object(s.jsx)(Ie.b,{type:"checkbox",name:"rememberMe"}),Object(s.jsx)("span",{children:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"})]}),e.errorFormMessage&&n&&Object(s.jsx)("div",{className:_e.a.inputError,children:e.errorFormMessage}),Object(s.jsx)("button",{disabled:n||!o,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})}})})},qe=Object(v.b)((function(e){return{errorFormMessage:e.auth.errorFormMessage,isAuth:e.auth.isAuth}}),{loginMe:function(e,t,n){return function(){var s=Object(w.a)(C.a.mark((function s(r){var a;return C.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,N(e,t,n);case 2:0===(a=s.sent).resultCode?r(Be()):r((i=a.messages[0],{type:Je,msg:i}));case 4:case"end":return s.stop()}var i}),s)})));return function(e){return s.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(s.jsx)(m.a,{to:"/profile"}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Login"}),Object(s.jsx)(Xe,{loginMe:e.loginMe,errorFormMessage:e.errorFormMessage})]})})),Ze="SET_INITIALIZATION",$e={initialized:!1},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze:return Object(I.a)(Object(I.a)({},e),{},{initialized:!0});default:return e}},tt=n(103),nt={},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt;return e},rt=n(115),at=Object(Me.c)({profilePage:me,dialogsPage:tt.b,sidebarPage:st,usersPage:L,auth:De,app:et}),it=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Me.d,ot=Object(Me.e)(at,it(Object(Me.a)(rt.a))),ct=a.a.lazy((function(){return n.e(3).then(n.bind(null,251))})),ut=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.setInit()}},{key:"render",value:function(){return this.props.initialized?Object(s.jsxs)("div",{className:h.a.app_wrapper,children:[Object(s.jsx)(We,{}),Object(s.jsx)(O,{}),Object(s.jsxs)("div",{className:h.a.app_wrapper_content,children:[Object(s.jsx)(m.b,{path:"/dialogs",render:function(){return e=ct,Object(s.jsx)(r.Suspense,{fallback:Object(s.jsx)(_,{}),children:Object(s.jsx)(e,{})});var e}}),Object(s.jsx)(m.b,{path:"/profile/:userId?",render:function(){return Object(s.jsx)(Ue,{})}}),Object(s.jsx)(m.b,{path:"/users",render:function(){return Object(s.jsx)(le,{})}}),Object(s.jsx)(m.b,{path:"/login",render:function(){return Object(s.jsx)(qe,{})}})]})]}):Object(s.jsx)(_,{})}}]),n}(a.a.Component),lt=Object(v.b)((function(e){return{initialized:e.app.initialized}}),{setInit:function(){return function(e){var t=e(Be());Promise.all([t]).then((function(){e({type:Ze})}))}}})(ut),pt=function(e){return Object(s.jsx)(g.a,{children:Object(s.jsx)(v.a,{store:ot,children:Object(s.jsx)(lt,{})})})};c.a.render(Object(s.jsx)(pt,{}),document.getElementById("root")),window.store=ot,i()},55:function(e,t,n){e.exports={currentPage:"Paginator_currentPage__iKiTQ",pagination:"Paginator_pagination__1tl-9",disabled:"Paginator_disabled__3Mpqu",active:"Paginator_active__2E-xB"}},56:function(e,t,n){e.exports={inputError:"login_inputError__3-GYZ"}},65:function(e,t,n){e.exports={app_wrapper:"App_app_wrapper__2V7HU",app_wrapper_content:"App_app_wrapper_content__o8yPs"}},69:function(e,t,n){e.exports={preloader:"Preloader_preloader__UUpwR",spinner:"Preloader_spinner__2ZoYd",spin:"Preloader_spin__2j65X"}},70:function(e,t,n){e.exports={posts:"MyPosts_posts__vCaZ6",inputError:"MyPosts_inputError__q2gmo"}}},[[248,1,2]]]);
//# sourceMappingURL=main.483979ab.chunk.js.map